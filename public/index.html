<!DOCTYPE html>

<html>
  <head>
    <title>Olin Expo API</title>
    <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet">
  </head>
  <body>
    <div class="container-fluid">
      <h1>Olin Expo API</h1>

      <p class="lead">To monitor Expo activity, see the <b><a href="/debug/">Debug Console.</a></b></p>

      <p>Terminology:</p>

      <ul>
        <li><b>The user</b> is an attendee of Expo. They are wearing <b>an ant</b>. They attend the conference.</li>
        <li><b>A presentation</b> is, for example, <i>2:00&ndash;3:00 Why Bois Ties Help Reduce Infertility in Men, in AC203</i>.</li>
        <li><b>A location</b> (i.e. <i>AC203</i>) has different <b>presentations</b> occuring over the course of the day. They are uniquely marked by a <b>hill</b>.</li>
        <li>A <b>bind</b> is a time at which a <i>user</i> (their <i>ant</i>) is seen at a <i>location</i> (a <i>hill</i>).</li>
      </ul>

      <hr>

      <h2>Client API</h2>

      <h3><a href="/users/"><span class="muted">GET</span> /users/</a></h3>

      <h3><a href="/users/1"><span class="muted">GET</span> /users/&lt;user id&gt;</a></h3>

      <p>Unique users in our system, who may or may not have a Facebook ID attached to them.</p>

      <pre>{
  "id": 1,
  "name": "Tim Cameron Ryan",
  "facebookid": 1237230063,
  "email": "id@timryan.org"
}</pre>

      <h3><a href="/presentations/"><span class="muted">GET</span> /presentations/</a></h3>

      <h3><a href="/presentations/1"><span class="muted">GET</span> /presentations/&lt;presentation id&gt;</a></h3>

      <p>Presentations that happen at Expo. Once integrated with a schedule, these presentations will incorporate a time and a location.</p>

      <pre>{
  "id": 1,
  "contact_name": "Margaret-Ann Seger",
  "contact_email": "margaret-ann.seger@students.olin.edu",
  "presentation_title": "Lifegraph",
  "all_students_presenting": "Tim Ryan, Jialiya Huang, Jon McKay, Paul Booth, Shane Moon, Margaret-Ann Seger",
  "project_description": "We are introducing a platform for developers to persist, record, and share physical interactions on Facebook's Open Graph. \r\n\r\nFacebook’s Open Graph is an extension of its vast social graph- the Open Graph allows users’ activity on third-party websites and pages throughout the web to be naturally integrated into their Facebook experience...",
  "special_needs": "none",
  "class_affiliation": "SCOPE",
  "created_at": "2012-12-03T11:15:22.296Z",
  "updated_at": "2012-12-03T19:01:51.104Z"
  }</pre>

      <h3><span class="muted">GET</span> /locations/</h3>

      <h3><span class="muted">GET</span> /locations/&lt;location id&gt;</h3>

      <p style="background: red; padding: 15px; font-size: 20px">TODO TODO TODO</p>

      <hr>

      <h3><a href="/binds/"><span class="muted">GET</span> /binds/</a></h3>

      <h3><a href="/binds/50bdbd97a931e00000000001"><span class="muted">GET</span> /binds/&lt;bind id&gt;</a></h3>

      <p>Binds are the sighting of a <code>user</code> at a given <code>presentation</code> with an implicit <code>location</code>, as determined by the Ant and Queen IDs submitted to the Hardware API. Looking up the binds for a user will list, starting with the most recent, where they were last seen and what presentation they were in attendance with at the time.</p>

      <h3><a href="/ants/abba"><span class="muted">GET, PUT</span> /ants/&lt;ant id&gt;</a></h3>

      <p>Retrieve or update <code>ant &hArr; user</code> binding for a given Ant. These should be set when an Ant is deployed in the field.</p>

      <pre>{
  "ant": "abba",
  "user": 1
}</pre>

      <h3><span class="muted">GET, PUT</span> /hills/&lt;hill id&gt;</h3>

      <p>Retrieve or update <code>hill &hArr; location</code> binding for a given Queen. These should be set when a Queen is deployed in the field.</p>

      <p style="background: red; padding: 15px; font-size: 20px">TODO TODO TODO</p>

      <hr>

      <h3><a href="/debug/"><span class="muted">Websocket</span> /</a></h3>
      <p>Emits the following events:</p>
      <ul>
        <li><code>bind:create</code></li>
        <li><code>ant:update</code></li>
        <li><code>hill:update</code></li>
      </ul>

      <hr>

      <h2>Hardware API</h2>

      <p>This should only be used by the Queens to locate where Ants were seen.</p>

      <h3><span class="muted">POST</span> /hardware</h3>
      <p>Hardware endpoint. Associates Ants with Queens.</p>
      <p><b>Form values:</b></p>
      <ul>
        <li><code>ant=<em>&lt;antid&gt;</em></code></li>
        <li><code>hill=<em>&lt;hill id&gt;</em></code></li>
      </ul>

      <hr>

      <p>&copy; 2012 <a href="http://lifegraphlabs.com/">Lifegraph Labs</a>.</p>

    </div>
  </body>
</html>